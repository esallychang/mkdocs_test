{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Welcome to MkDocs","text":"<p>For full documentation visit mkdocs.org.</p>"},{"location":"#commands","title":"Commands","text":"<ul> <li><code>mkdocs new [dir-name]</code> - Create a new project.</li> <li><code>mkdocs serve</code> - Start the live-reloading docs server.</li> <li><code>mkdocs build</code> - Build the documentation site.</li> <li><code>mkdocs -h</code> - Print help message and exit.</li> </ul>"},{"location":"#project-layout","title":"Project layout","text":"<pre><code>mkdocs.yml    # The configuration file.\ndocs/\n    index.md  # The documentation homepage.\n    ...       # Other markdown pages, images and other files.\n</code></pre>"},{"location":"01-Week2-Loading-SRA-Data/","title":"Hands-On: Loading Our Input Dataset Onto Galaxy","text":""},{"location":"01-Week2-Loading-SRA-Data/#prerequisites","title":"Prerequisites","text":"<p>This tutorial assumes that you have done the following:  * Signed up for a Galaxy account and can log in. * Have taken a look at the Galaxy Environment 101 Tutorial and are familiar with the concepts therein.  * Have familiarized yourself with the steps of variant-calling and related file-formats (you can always do this as you progress through the tutorial as needed!).  {: .prereq}</p>"},{"location":"01-Week2-Loading-SRA-Data/#obtaining-data-from-the-ncbi-short-read-archive","title":"Obtaining data from the NCBI Short Read Archive","text":"<p>First we need to identify some samples of interest. The Sequence Read Archive (SRA) is the primary archive of unassembled reads operated by the US National Institutes of Health (NIH). SRA is a great place to get the sequencing data that underlie publications and studies. We know where to find the data because Science (and in fact, most publications) require authors to deposit their data in a public database and give us the information we need to find it on the database. </p> <p>The data availability statement can be found in the acknowledgements section of Lemieux et al. 2020: </p> <p> </p> <p>As you can see, we now know we can find sequencing data related to this study under <code>BioProject PRJNA622837</code>. As defined by the NCBI, a BioProject is \"a collection of biological data related to a single initiative, originating from a single organization or from a consortium\", so they generally contain multiple sequencing data sets. The NCBI has much a much more in-depth description of BioProjects on its webpage, but their general structure can be summarized below: </p> <p></p>"},{"location":"01-Week2-Loading-SRA-Data/#hands-on-get-metadata-from-ncbi-sra","title":"\"Hands-On: Get Metadata from NCBI SRA\"","text":"<ol> <li>Go to NCBI\u2019s SRA page by pointing your browser to <code>https://www.ncbi.nlm.nih.gov/sra</code></li> <li>Perform a search using the Bioproject ID from the paper: <code>BioProject PRJNA622837</code> </li> <li>The web page will show a large number of available SRA datasets related to project described in Lemieux et al. 2020 (at the time of writing there were 22,173). </li> <li>Download metadata describing these datasets by:</li> <li>clicking on Send to: dropdown</li> <li>Selecting <code>File</code></li> <li>Changing Format to <code>RunInfo</code></li> <li>Clicking Create file. The screen should now look like this:  </li> <li>Click \"Create File\" to download the <code>SraRunInfo.csv</code> file to a place on your computer where you will be able to find it easily for the next step. {: .challenge}</li> </ol>"},{"location":"01-Week2-Loading-SRA-Data/#getting-information-about-individual-samples","title":"Getting Information About Individual Samples","text":"<p>So, what is in the the SRA Run Info file?</p> <p>The file we just downloaded is not sequencing data itself. Rather, it is metadata describing the properties of sequencing reads. We could actually open this file in a program like Excel, and if we did so, we could see columns of information like Release Date, Sequencing Platform, and Sample Name as reported by the researchers. In this study every accession corresponds to an individual patient whose samples were sequenced. We will filter this list down to just a few sequenced samples that will be used in the remainder of this tutorial. </p> <p>This is all very valuable information - for example, if we want to know more about the sample that became the SRA sequencing dataset <code>SRS8612691</code> we can use the Sample Name column to retrieve information about when the sample was actually collected. You can search for a Sample Name in the general NCBI database by using the All Databases option in the toolbar: </p> <p></p> <p>We can see that the sample that was sequenced to become the SRA sequencing dataset <code>SRS8612691</code> was collected on January 4th, 2021 and was collected as part of routine surveillance: </p> <p></p>"},{"location":"01-Week2-Loading-SRA-Data/#processing-and-filtering-metadata-on-galaxy","title":"Processing and Filtering Metadata on Galaxy","text":"<p>The Galaxy servers MIGHT powerful enough to process all 22,000+ datasets, but to make this tutorial bearable we need to selected a smaller, but still interesting, subset. In particular, we are interested in samples from early in the ongoing Covid-19 pandemic, so we will be choosing samples collected in April and May of 2020, which I have chosen using the \"Collection Date\" information retrieved by as described above. </p> <p>We are going to focus on the following two sequencing data sets:  * Run Number <code>SRR12733957</code>: A sequencing run from a sample collected on April 6th, 2020. * Run Number <code>SRR11954102</code>: A sequencing run from a sample collected on May 2nd, 2020.</p>"},{"location":"01-Week2-Loading-SRA-Data/#hands-on-upload-sraruninfocsv-onto-galaxy","title":"Hands-On: Upload <code>SRARunInfo.csv</code> onto Galaxy","text":"<ol> <li>If you haven't already, log in to your Galaxy account. Create a new, empty history called something like \"Variant Calling Tutorial\".</li> <li>In the tools panel, click the Upload Data button: </li> </ol> <ol> <li>Find <code>SRARunInfo.csv</code> on your computer, and drag it into the \"Drop Files Here\" space in the dialog box that pops up.</li> <li>Click the Start button to begin the upload. </li> <li>At this point, you can press the Close button. In a several seconds, <code>SRARunInfo.csv</code> should be ready to look at in the History panel. </li> <li>You can now look at the content of this file by clicking on the eye icon . You will see that this file contains a lot of information about individual SRA accessions.</li> </ol> <p>How large is the sequencing file associated with the accession number <code>SRR14114810</code>? </p> <p></p> <p>{: .challenge}</p>"},{"location":"01-Week2-Loading-SRA-Data/#solution","title":"Solution","text":"<p>272 MB. If you open the file by clicking the eye icon, you should be able to find <code>SRR14114810</code> in the Run column, and then look over to see 272 in the size_MB column. </p> <p>{: .solution} Note: If you ever want a smaller summary of the data, you can also click the name of of item in your history, which should produce something like this: </p>"},{"location":"01-Week2-Loading-SRA-Data/#warning-dont-get-caught-by-the-wrong-cut","title":"Warning: Don't get caught by the wrong \"Cut\"!","text":"<p> WARNING: There are two cut tools in Galaxy due to historical reasons. For this tutorial we are assuming you are using the named EXACTLY  Cut columns from a table (cut)   The other tool follows a similar logic but with a different interface.  </p> <p>{: .callout}</p>"},{"location":"01-Week2-Loading-SRA-Data/#hands-on-creating-a-subset-of-data","title":"Hands-On: Creating a subset of data","text":"<ol> <li> <p>Find the  Select lines that match an expression   tool in the Filter and Sort section of the tool panel. You may find that Galaxy has an overwhelming amount of tools installed. To find a specific tool type the tool name in the tool panel search box to find the tool.</p> </li> <li> <p>Make sure the SraRunInfo.csv dataset we just uploaded is listed in the  Select lines from field of the tool form.</p> </li> <li> <p>In the Pattern field enter the following expression: <code>SRR12733957|SRR11954102</code>. The \"|\" symbol (called a \"pipe\") means \"or\". So we are telling this tool to find lines containing <code>SRR12733957</code> OR <code>SRR11954102</code>.</p> </li> <li>Click the <code>Execute</code> button.</li> <li>Once the this has been executed, you should have a file with a total of three lines. If you look at the file (), you will see that one of the two lines has been duplicated to take the place of the \"header\" line (which is fine for now). </li> <li>Cut the first column from the file using the  Cut columns from a table (cut)   tool, which you will find in Text Manipulation section of the tool pane. </li> <li>Make sure the dataset produced by the previous step is selected in the File to cut field of the tool form.</li> <li>Change Delimited by to <code>Comma</code>.</li> <li>In List of fields drop-down menu select <code>Column: 1</code>. This is telling the tool to only return the first column of our data.</li> <li>Hit <code>Execute</code>.  This will produce a text file with just two lines: ~~~ SRR12733957 SRR11954102 ~~~ {: .output} {: .challenge}</li> </ol>"},{"location":"01-Week2-Loading-SRA-Data/#downloading-the-actual-sequence-data","title":"Downloading the actual sequence data","text":"<p>So, now we have a file that contains just the two accession numbers for the sequencing data sets that we want. This is the perfect input for tools in Galaxy that can use this information to download big sequencing data sets straight from the NCBI SRA directly into your Galaxy environment without ever putting the big files on your computer. </p> <p><code>Pair-end data (fasterq-dump)</code>, <code>Single-end data (fasterq-dump)</code> and <code>Other data (fasterq-dump)</code> are actually collections of datasets. Collections in Galaxy are logical groupings of datasets that reflect the semantic relationships between them in the experiment / analysis. In this case the tool creates separate collections for paired-end reads, single reads, and other (any other type of file). See the Galaxy Collections tutorial and watch Galaxy tutorial videos (with names beginning with \u201cDataset Collections\u201d) for more information.</p> <p>Explore the collections by first clicking on the collection name in the history panel. This takes you inside the collection and shows you the datasets in it. You can then navigate back to the outer level of your history.</p> <p>Once <code>fasterq</code> finishes transferring data (all boxes are green / done), we are ready to analyze it.</p>"},{"location":"01-Week2-Loading-SRA-Data/#hands-on-getting-data-from-sra","title":"Hands-On: Getting data from SRA","text":"<ol> <li> Faster Download and Extract Reads in FASTQ  with the following parameters: </li> <li>Select Input Type: <code>List of SRA Accession, one per line</code>. </li> <li>The input parameter  select input type should point the output of  Cut columns from a table (cut) . </li> <li>Click the <code>Execute</code> button. This will run the tool, which retrieves the sequence read read datasets and places them into your Galaxy environment.  Note that this step can take a few minutes, so this might be a good time get get a fresh cup of coffee!</li> <li> Take a look at the entries that were created in your history panel: </li> <li><code>Pair-end data (fasterq-dump)</code>: Contains Paired-end datasets (if available)</li> <li><code>Single-end data (fasterq-dump)</code>:  Contains Single-end datasets (if available)</li> <li><code>Other data (fasterq-dump)</code>:  Contains Unpaired datasets (if available)</li> <li><code>fasterq-dump log</code>: Contains Information about the tool execution</li> </ol> <p>Is the data we downloaded single-end or paired-end data? </p>"},{"location":"01-Week2-Loading-SRA-Data/#solution_1","title":"Solution","text":"<p>Our data is paired-end! If you click each of the data files generated that are now in your history, you will see that <code>Single-end data (fasterq-dump)</code> is an empty list, meaning that the tool did not download any files of that type. On the other hand, <code>Pair-end data (fasterq-dump)</code> is a \"list of pairs with 2 items\", each of which is a FASTQ-formatted file if you look inside:  </p> <p>{: .solution} {: .challenge}</p>"},{"location":"01-Week2-Loading-SRA-Data/#sra-upload-workaround-getting-data-from-a-galaxy-history","title":"SRA Upload Workaround: Getting data from a Galaxy History","text":"<p>When to use this tool: If you have waited for more than 12 hours for these FASTQ files to successfully load into your Galaxy history using the  Faster Download and Extract Reads in FASTQ  tool , you can transfer these files from an existing history I set up for this week. </p> <ol> <li>Navigate to <code>https://usegalaxy.org/u/faes.biof521/h/biof521sp22week2tutorialfiles</code> (the URL will depend on the exact history you are trying to import). </li> <li>In the top right-hand corner, click the big \"+\" button for the option to import this history into your Galaxy account.  </li> <li>Once that is done (it should just take a few moments), Galaxy will automatically take you back to your home screen, with the imported history now active. </li> <li>Now you can go to the <code>View All Histories</code> option, and you should see this history side by side with your older histories.  </li> <li>Drag and drop only the files that you need (in this case, probably just the <code>paired-end</code> collection into the history you set up for this tutorial. </li> <li>Once you are done with that, make sure to click the Switch To tab above your Week 2 Tutorial history to make that one active before pressing the Home icon on the top bar to return to your usual Galaxy view. {: .solution}</li> </ol>"},{"location":"01-Week2-Loading-SRA-Data/#what-does-our-paired-end-data-actually-look-like","title":"What does our paired-end data actually look like?","text":"<p>It is common to prepare pair-end and mate-pair sequencing libraries. This is highly beneficial for a number of applications discussed, such as those discussed in Week 2's Genome Assembly module. For now let\u2019s just briefly discuss what these are and how they manifest themselves in FASTQ form.</p> <p></p> <p>In paired-end sequencing (left) the actual ends of rather short DNA molecules (less than 1kb) are determined, while for mate-pair sequencing (right) the ends of long molecules are joined and prepared in special sequencing libraries. In these mate pair protocols, the ends of long, size-selected molecules are connected with an internal adapter sequence (i.e. linker, yellow) in a circularization reaction. The circular molecule is then processed using restriction enzymes or fragmentation. Fragments are enriched for the linker and outer library adapters are added around the two combined molecule ends. The internal adapter can then be used as a second priming site for an additional sequencing reaction in the same orientation or sequencing can be performed from the second adapter, from the reverse strand. (From \u201cUnderstanding and improving high-throughput sequencing data production and analysis\u201d, Ph.D. dissertation by Martin Kircher)</p> <p>Thus in both cases (paired-end and mate-pair) a single physical piece of DNA (or RNA in the case of RNA-seq) is sequenced from two ends and so generates two reads. These can be represented as separate files (two FASTQ files with first and second reads) or a single file were reads for each end are interleaved (discussed later). Each of our data sets is a pair of FASTQ files, with each data set having a file for \"Forward\" read and \"Reverse\" reads. </p> <p>For example, the first two reads of the <code>SRR11954102</code> data set are: </p> <p>Forward </p> <pre><code>@SRR11954102.1 1 length=101\nACGGGGGGGCTTACCATCTGGCCCCAGTGCTGCAATGATACCGCGAGACCCACGCTCACCGGCTCCAGATTTATCAGCAATAAACCAGCCAGCCGGAAGGG\n+SRR11954102.1 1 length=101\nFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF\n@SRR11954102.2 2 length=101\nGCATTAAGCGCGGCGGGTGTGGTGGTTACGCGCAGCGTGACCGCTACACTTGCCAGCGCCCTAGCGCCCGCTCCTTTCGCTGTCTTCCCTTCCTTTCTCGC\n+SRR11954102.2 2 length=101\nFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF,FFFFFFFFFFFFFFFFFFF\n</code></pre> <p>{: .output}</p> <p>Reverse </p> <pre><code>@SRR11954102.1 1 length=101\nAACTCGCCTTGATCGTTGGGAACCGGAGCTGAATGAAGCCATACCAAACGACGAGCGTGACACCACGATGCCTGTAGCAATGGCAACAACGTTGCGCAAAC\n+SRR11954102.1 1 length=101\nFFFFFFF:FFFFFFFFFFFFF:FFFFFFFFFFFFF:FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF:FFFFFFFFF\n@SRR11954102.2 2 length=101\nCCCTTTAGGGTTCCGATTTAGTGCTTTACGGGGAAAGCCGGCGAACGTGGCGAGAAAGGAAGGGAAGAAAGCGAAAGGAGCGGGCGCTAGGGCGCTGGCAA\n+SRR11954102.2 2 length=101\nFF:FFFFFFFFFFFFFFFFFF:FFFFFFFFF:FFFF:FFFFFFFFFFF:FFFFFFFFFFFFFFFFFF:FFFFFFFFFFFFFFFFFFFFFF:FFFFFFFFFF\n</code></pre> <p>{: .output}</p>"}]}